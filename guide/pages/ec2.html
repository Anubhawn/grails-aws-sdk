<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4.1 EC2 example 1.8.2</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/installation.html"><strong>2</strong><span>Installation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/configuration.html"><strong>3</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/amazonWebService.html"><strong>4</strong><span>Amazon Web Service</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>The AWS SDK Plugin allows your Grails application to use the Amazon Web Services infrastructure services.
It provides simple wrapper service around the official AWS SDK for Java.

Using the SDK, developers can build solutions for Amazon Simple Storage Service (Amazon S3), Amazon Elastic Compute Cloud (Amazon EC2), Amazon SimpleDB, and more.
</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/configuration.html">&lt;&lt; <strong>3</strong><span>Configuration</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>4.1 EC2 example - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Benoit Hediard</p>

                    <p><strong>Version:</strong> 1.8.2</p>

                    
                </div>

                

                

<h2 id="ec2">4.1 EC2 example</h2>
Start an EC2 t1.micro instance with Amazon Linux in eu-west1.<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> com.amazonaws.services.ec2.model.&#42;<p class="paragraph"/>// If your <span class="java&#45;keyword">default</span> region is eu&#45;west&#45;1
def reservation = amazonWebService.ec2.runInstances(<span class="java&#45;keyword">new</span> RunInstancesRequest('ami&#45;fd231b89', 1, 1).withInstanceType('t1.micro'))
// Or <span class="java&#45;keyword">if</span> your <span class="java&#45;keyword">default</span> region is not eu&#45;west&#45;1 (<span class="java&#45;keyword">this</span> ami ID is only runnable eu&#45;west&#45;1)
def reservation = amazonWebService.getEc2('eu&#45;west&#45;1').runInstances(<span class="java&#45;keyword">new</span> RunInstancesRequest('ami&#45;fd231b89', 1, 1).withInstanceType('t1.micro'))</pre></div><p class="paragraph"/>List all your EC2 instances.<p class="paragraph"/><div class="code"><pre>List reservations = amazonWebService.ec2.describeInstances().reservations
reservations.each &#123; Reservation reservation &#45;&#62;
    println <span class="java&#45;quote">"reservationId: $&#123;reservation.reservationId&#125;"</span>
    reservation.instances.each() &#123; Instance instance &#45;&#62;
        println <span class="java&#45;quote">"instanceId: $&#123;instance.instanceId&#125;, imageId: $&#123;instance.imageId&#125;, instanceType: $&#123;instance.instanceType&#125;"</span>
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/>Stop an EC2 instance.<p class="paragraph"/><div class="code"><pre>amazonWebService.ec2.stopInstances(<span class="java&#45;keyword">new</span> StopInstancesRequest(&#91;instanceId&#93;))</pre></div><p class="paragraph"/>Terminate an EC2 instance.<p class="paragraph"/><div class="code"><pre>amazonWebService.ec2.terminateInstances(<span class="java&#45;keyword">new</span> TerminateInstancesRequest(&#91;instanceId&#93;))</pre></div><p class="paragraph"/>
<h3>Java doc</h3><p class="paragraph"/>To know available methods for EC2 client, check <a href="http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/AmazonEC2Client.html" target="blank">AmazonEC2Client Java doc</a>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/configuration.html">&lt;&lt; <strong>3</strong><span>Configuration</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
