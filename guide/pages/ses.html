<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4.4 SES example 1.6.7</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/installation.html"><strong>2</strong><span>Installation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/configuration.html"><strong>3</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/amazonWebService.html"><strong>4</strong><span>Amazon Web Service</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>The AWS SDK Plugin allows your Grails application to use the Amazon Web Services infrastructure services.
It provides simple wrapper service around the official AWS SDK for Java.
Using the SDK, developers can build solutions for Amazon Simple Storage Service (Amazon S3), Amazon Elastic Compute Cloud (Amazon EC2), Amazon SimpleDB, and more.
</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/configuration.html">&lt;&lt; <strong>3</strong><span>Configuration</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>4.4 SES example - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Benoit Hediard</p>

                    <p><strong>Version:</strong> 1.6.7</p>

                    
                </div>

                

                

<h2 id="ses">4.4 SES example</h2>
<blockquote class="note">
SES is currently only available in us-east-1 region, so you might define it in your config if required or use <code>amazonWebService.getSes('us-east-1')</code>.
</blockquote><p class="paragraph"/>Verifies an email address (send a confirmation email).<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> com.amazonaws.services.simpleemail.model.&#42;<p class="paragraph"/>amazonWebService.ses.verifyEmailIdentity(<span class="java&#45;keyword">new</span> VerifyEmailIdentityRequest().withEmailAddress('notification&#64;mydomain.com'))</pre></div><p class="paragraph"/>List verified address.<p class="paragraph"/><div class="code"><pre>List emailAddresses = amazonWebService.ses.listVerifiedEmailAddresses().verifiedEmailAddresses
emailAddresses.each &#123;
    println it
&#125;</pre></div><p class="paragraph"/>Send an email.<p class="paragraph"/><div class="code"><pre><span class="java&#45;object">String</span> source = 'notification&#64;mydomain.com'
Destination destination = <span class="java&#45;keyword">new</span> Destination(&#91;'myemail&#64;gmail.com'&#93;)
Content subject = <span class="java&#45;keyword">new</span> Content('Some subject...')
Body body = <span class="java&#45;keyword">new</span> Body().withHtml(<span class="java&#45;keyword">new</span> Content('''Hi,&#60;br /&#62;
&#60;br /&#62;
Some &#60;b&#62;HTML&#60;/b&#62; body&#8230;
'''))
Message message = <span class="java&#45;keyword">new</span> Message(subject, body)
amazonWebService.ses.sendEmail(<span class="java&#45;keyword">new</span> SendEmailRequest(source, destination, message))</pre></div><p class="paragraph"/>Get send statistics<p class="paragraph"/><div class="code"><pre>GetSendStatisticsResult statistics = amazonWebService.ses.getSendStatistics()
statistics.sendDataPoints.each &#123; SendDataPoint sendDataPoint &#45;&#62;
    println <span class="java&#45;quote">"bounces=$&#123;sendDataPoint.bounces&#125;, complaints=$&#123;sendDataPoint.complaints&#125;, deliveryAttempts=$&#123;sendDataPoint.deliveryAttempts&#125;, rejects=$&#123;sendDataPoint.rejects&#125;"</span>
&#125;</pre></div><p class="paragraph"/>Get send quota<p class="paragraph"/><div class="code"><pre>GetSendQuotaResult quota = amazonWebService.ses.getSendQuota()
println <span class="java&#45;quote">"max24HourSend: $&#123;quota.max24HourSend&#125;, sentLast24Hours: $&#123;quota.sentLast24Hours&#125;, sentLast24Hours: $&#123;quota.sentLast24Hours&#125;"</span></pre></div><p class="paragraph"/>
<h3>Java doc</h3><p class="paragraph"/>To know available methods for SES client, check <a href="http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/simpleemail/AmazonSimpleEmailServiceClient.html" target="blank">AmazonSimpleEmailServiceClient Java doc</a>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/configuration.html">&lt;&lt; <strong>3</strong><span>Configuration</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
