<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>AWS SDK Grails Plugin 0.1.0</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#installation"><strong>2</strong><span>Installation</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#amazonWebService"><strong>4</strong><span>Amazon Web Service</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>The AWS SDK Plugin allows your Grails application to use the Amazon Web Services infrastructure services.
It provides simple wrapper service around the official AWS SDK for Java.
Using the SDK, developers can build solutions for Amazon Simple Storage Service (Amazon S3), Amazon Elastic Compute Cloud (Amazon EC2), Amazon SimpleDB, and more.
</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>AWS SDK Grails Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Benoit HEDIARD</p>
                            <p><strong>Version:</strong> 0.1.0</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#installation"><strong>2</strong><span>Installation</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#amazonWebService"><strong>4</strong><span>Amazon Web Service</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="introduction">1 Introduction</h1>
The AWS SDK Plugin allows your <a href="http://grails.org" target="blank">Grails</a> application to use the <a href="http://aws.amazon.com/" target="blank">Amazon Web Services</a> infrastructure services.<p class="paragraph"/>It uses the official <a href="http://aws.amazon.com/sdkforjava/," target="blank">AWS SDK for Java</a> which provides a Java API for AWS infrastructure services, making it even easier for developers to build applications that tap into the cost-effective, scalable, and reliable AWS cloud.<p class="paragraph"/>Using the SDK, developers can build solutions for Amazon Simple Storage Service (Amazon S3), Amazon Elastic Compute Cloud (Amazon EC2), Amazon SimpleDB, and more.<p class="paragraph"/><strong class="bold">AWS SDK Grails Plugin</strong> provides the following Grails artefact:
<ul class="star">
<li><code>amazonWebService</code> - A service wrapper around the <a href="http://aws.amazon.com/sdkforjava/" target="blank">AWS SDK for Java</a> to easily access AWS services clients.</li>
</ul><p class="paragraph"/><h3>Supported AWS Services</h3><p class="paragraph"/>All services supported by <a href="http://aws.amazon.com/sdkforjava/" target="blank">AWS SDK for Java</a> are available:
<ul class="star">
<li>Amazon CloudFormation</li>
<li>Amazon CloudFront</li>
<li>Amazon CloudSearch</li>
<li>Amazon CloudWatch</li>
<li>Amazon DynamoDB</li>
<li>Amazon Elastic Compute Cloud (EC2)</li>
<li>Amazon Elastic MapReduce</li>
<li>Amazon ElastiCache</li>
<li>Amazon Relational Database Service (RDS)</li>
<li>Amazon Route 53</li>
<li>Amazon Simple Email Service (SES)</li>
<li>Amazon SimpleDB</li>
<li>Amazon Simple Notification Service (SNS)</li>
<li>Amazon Simple Queue Service (SQS)</li>
<li>Amazon Simple Storage Service (S3)</li>
<li>Auto Scaling</li>
<li>AWS Elastic Beanstalk</li>
<li>AWS Identity &#38; Access Management (IAM)</li>
<li>AWS Import/Export</li>
<li>AWS Storage Gateway</li>
<li>Elastic Load Balancing</li>
</ul><p class="paragraph"/><h3>Bugs</h3><p class="paragraph"/>To report any bug, please use the project <a href="http://github.com/benorama/aws-sdk-grails-plugin/issues" target="blank">Issues</a> section on GitHub.<p class="paragraph"/>
<h3>Alpha status</h3><p class="paragraph"/>This is an <strong class="bold"></strong>alpha release<strong class="bold"></strong>.
The underlying APIs are generally stable, however we may make changes to the library in response to developer feedback.


<h1 id="installation">2 Installation</h1>
Declare the plugin dependency in the <code>BuildConfig.groovy</code> file, as shown here:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
		inherits(<span class="java&#45;quote">"global"</span>) &#123; &#125;
		log <span class="java&#45;quote">"info"</span>
		repositories &#123;
				//your repositories
		&#125;
		dependencies &#123;
				//your regular dependencies
		&#125;
		plugins &#123;
				//here go your plugin dependencies
				runtime ':aws&#45;sdk:0.1.0'
		&#125;
&#125;</pre></div>


<h1 id="configuration">3 Configuration</h1>
<h4>Credentials</h4><p class="paragraph"/>Add your AWS credentials parameters to your  <em class="italic">grails-app/conf/Config.groovy</em> :<p class="paragraph"/><div class="code"><pre>grails.plugins.awssdk.accessKey = &#123;ACCESS_KEY&#125;
grails.plugins.awssdk.secretKey = &#123;SECRET_KEY&#125;</pre></div><p class="paragraph"/>This is the minimal config.<p class="paragraph"/><h4>Region</h4><p class="paragraph"/>The default region used is <strong class="bold">us-east-1</strong>.
You might override it in your config:<p class="paragraph"/><div class="code"><pre>grails.plugins.awssdk.region = 'eu&#45;west&#45;1'</pre></div><p class="paragraph"/><h4>Client config</h4><p class="paragraph"/>If required, you can override default client configuration, which will be used each time a new client is created by <code>amazonWebService</code>.<p class="paragraph"/><div class="code"><pre>grails.plugins.awssdk &#123;
    // Amount of time to wait (in milliseconds) when initially establishing a connection before giving up and timing out.
    connectionTimeout = &#123;CONNECTION_TIMEOUT&#125;
    // Maximum number of allowed open HTTP connections.
    maxConnections = &#123;MAX_CONNECTIONS&#125;
    // Maximum number of retry attempts <span class="java&#45;keyword">for</span> failed retryable requests (ex: 5xx error responses from a service).
    maxErrorRetry = &#123;MAX_ERROR_RETRY&#125;
    // Protocol (HTTP or HTTPS) to use when connecting to Amazon Web Services.
    protocol = &#123;PROTOCOL&#125;
    // Size hints (in bytes) <span class="java&#45;keyword">for</span> the low level TCP send and receive buffers.
    socketBufferSizeHints = &#91;&#123;SOCKET_SEND_BUFFER _SIZE_HINT&#125;,&#123;SOCKET_RECEIVE_BUFFER_SIZE_HINT&#125;&#93;
    // Amount of time to wait (in milliseconds) <span class="java&#45;keyword">for</span> data to be transfered over an established, open connection before the connection times out and is closed.
    socketTimeout = &#123;SOCKET_TIMEOUT&#125;
    // HTTP user agent header to send with all requests.
    userAgent = &#123;USER_AGENT&#125;
&#125;</pre></div><p class="paragraph"/>If required, you can also override default client configuration for each service. For example this will define specific properties for SQS.<p class="paragraph"/><div class="code"><pre>grails.plugins.awssdk &#123;
    sqs &#123;
        // Custom access key
        accessKey = &#123;SQS_ACCESS_KEY&#125;
        // Custom secret key
        secretKey = &#123;SQS_SECRET_KEY&#125;
        // Custom region
        region = &#123;SQS_REGION&#125;
        // Custom timeout
        connectionTimeout = &#123;SQS_CONNECTION_TIMEOUT&#125;
    &#125;
    // Other available services
    autoscaling &#123;&#125;
    cloudformation &#123;&#125;
    cloudfront &#123;&#125;
    cloudsearch &#123;&#125;
    cloudwatch &#123;&#125;
    dynamodb &#123;&#125;
    ec2 &#123;&#125;
    elasticbeanstalk &#123;&#125;
    elasticmapreduce &#123;&#125;
    elasticache &#123;&#125;
    iam &#123;&#125;
    importexport &#123;&#125;
    rds &#123;&#125;
    route53 &#123;&#125;
    s3 &#123;&#125;
    ses &#123;&#125;
    simpledb &#123;&#125;
    sns &#123;&#125;
    sqs &#123;&#125;
    storagegateway &#123;&#125;
&#125;</pre></div>


<h1 id="amazonWebService">4 Amazon Web Service</h1>
Reference <code>amazonWebService</code> from any of your grails artefacts (controllers, domain, services...) to automatically inject it.<p class="paragraph"/><div class="code"><pre>def amazonWebService</pre></div><p class="paragraph"/>You can then access any services directly from <code>amazonWebService</code>.<p class="paragraph"/><div class="code"><pre>// Available service clients
amazonWebService.autoScaling
amazonWebService.cloudformation
amazonWebService.cloudfront
amazonWebService.cloudsearch
amazonWebService.cloudwatch
amazonWebService.dynamodb
amazonWebService.ec2
amazonWebService.elasticbeanstalk
amazonWebService.elasticmapreduce
amazonWebService.elasticache
amazonWebService.iam
amazonWebService.importexport
amazonWebService.rds
amazonWebService.route53
amazonWebService.s3
amazonWebService.ses
amazonWebService.simpledb
amazonWebService.sns
amazonWebService.sqs
amazonWebService.storagegateway</pre></div><p class="paragraph"/>It will return an instance of java client class extending <a href="http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/AmazonWebServiceClient.html" target="blank">AmazonWebServiceClient</a> with default region endpoint.<p class="paragraph"/>You can then call any available method on the client.<p class="paragraph"/>For example, to send and receive SQS messages.<p class="paragraph"/><div class="code"><pre>// Send message
amazonWebService.sqs.sendMessage(<span class="java&#45;keyword">new</span> SendMessageRequest(queueUrl, messageBody))
// Receives messages
List messages = amazonWebService.sqs.receiveMessage(<span class="java&#45;keyword">new</span> ReceiveMessageRequest(queueUrl)).messages</pre></div><p class="paragraph"/>To know available methods for each service clients, check the latest version of online <a href="http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/index.html/" target="blank">AWS SDK Java docs</a> .<p class="paragraph"/><h3>Custom region</h3><p class="paragraph"/>If required, you pass the region name, to get a client with different region endpoint.<p class="paragraph"/><div class="code"><pre>// Use SQS <span class="java&#45;keyword">for</span> region 'eu&#45;west&#45;1'
amazonWebService.getSqs('eu&#45;west&#45;1').sendMessage(<span class="java&#45;keyword">new</span> SendMessageRequest(queueUrl, messageBody))</pre></div><p class="paragraph"/><h3>Async clients</h3><p class="paragraph"/>If required, you can also get the asynchronous version for each client.<p class="paragraph"/><div class="code"><pre>// Get async client
amazonWebService.sqsAsync.sendMessageAsync(<span class="java&#45;keyword">new</span> SendMessageRequest(queueUrl, messageBody))
// Get async client <span class="java&#45;keyword">for</span> region 'eu&#45;west&#45;1'
amazonWebService.getSqsAsync('eu&#45;west&#45;1').sendMessageAsync(<span class="java&#45;keyword">new</span> SendMessageRequest(queueUrl, messageBody))</pre></div>


                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
