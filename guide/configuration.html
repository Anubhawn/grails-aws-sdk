<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>3 Configuration 1.3.22</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/installation.html"><strong>2</strong><span>Installation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configuration.html"><strong>3</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/amazonWebService.html"><strong>4</strong><span>Amazon Web Service</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>The AWS SDK Plugin allows your Grails application to use the Amazon Web Services infrastructure services.
It provides simple wrapper service around the official AWS SDK for Java.
Using the SDK, developers can build solutions for Amazon Simple Storage Service (Amazon S3), Amazon Elastic Compute Cloud (Amazon EC2), Amazon SimpleDB, and more.
</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/installation.html">&lt;&lt; <strong>2</strong><span>Installation</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/amazonWebService.html"><strong>4</strong><span>Amazon Web Service</span> >></a></div>
                


                <div class="project">
                    <h1>3 Configuration - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Benoit Hediard</p>

                    <p><strong>Version:</strong> 1.3.22</p>

                    
                </div>

                

                

<h1 id="configuration">3 Configuration</h1>
<h4>Credentials</h4><p class="paragraph"/>Add your AWS credentials parameters to your  <em class="italic">grails-app/conf/Config.groovy</em> :<p class="paragraph"/><div class="code"><pre>grails.plugin.awssdk.accessKey = &#123;ACCESS_KEY&#125;
grails.plugin.awssdk.secretKey = &#123;SECRET_KEY&#125;</pre></div><p class="paragraph"/>If you do not provide credentials in  <em class="italic">grails-app/conf/Config.groovy</em> , a credentials provider chain will be used that searches for credentials in this order:
<ul class="star">
<li>Environment Variables - <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_KEY</code></li>
<li>Java System Properties - <code>aws.accessKeyId</code> and <code>aws.secretKey</code></li>
<li>Instance profile credentials delivered through the Amazon EC2 metadata service (IAM role)</li>
</ul><p class="paragraph"/>For example, you can pass your credentials through VM Options:<p class="paragraph"/><div class="code"><pre>grails run&#45;app &#45;Daws.accessKeyId=&#123;ACCESS_KEY&#125; &#45;Daws.secretKey=&#123;SECRET_KEY&#125;</pre></div><p class="paragraph"/>Or you can create an IAM role with custom permissions/policy and select this role when you launch your EC2 instance.<p class="paragraph"/>
<h4>Region</h4><p class="paragraph"/>The default region used is <strong class="bold">us-east-1</strong>.
You might override it in your config:<p class="paragraph"/><div class="code"><pre>grails.plugin.awssdk.region = 'eu&#45;west&#45;1'</pre></div><p class="paragraph"/><h4>Client config</h4><p class="paragraph"/>If required, you can override default client configuration, which will be used each time a new client is created by <code>amazonWebService</code>.<p class="paragraph"/><div class="code"><pre>grails &#123;
    plugin &#123;
        awssdk &#123;
            // Amount of time to wait (in milliseconds) when initially establishing a connection before giving up and timing out.
            connectionTimeout = &#123;CONNECTION_TIMEOUT&#125;
            // Maximum number of allowed open HTTP connections.
            maxConnections = &#123;MAX_CONNECTIONS&#125;
            // Maximum number of retry attempts <span class="java&#45;keyword">for</span> failed retryable requests (ex: 5xx error responses from a service).
            maxErrorRetry = &#123;MAX_ERROR_RETRY&#125;
            // Protocol (HTTP or HTTPS) to use when connecting to Amazon Web Services.
            protocol = &#123;PROTOCOL&#125;
            // Size hints (in bytes) <span class="java&#45;keyword">for</span> the low level TCP send and receive buffers.
            socketBufferSizeHints = &#91;&#123;SOCKET_SEND_BUFFER _SIZE_HINT&#125;,&#123;SOCKET_RECEIVE_BUFFER_SIZE_HINT&#125;&#93;
            // Amount of time to wait (in milliseconds) <span class="java&#45;keyword">for</span> data to be transfered over an established, open connection before the connection times out and is closed.
            socketTimeout = &#123;SOCKET_TIMEOUT&#125;
            // HTTP user agent header to send with all requests.
            userAgent = &#123;USER_AGENT&#125;
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/>If required, you can also override default client configuration for each service.<p class="paragraph"/>For example this will define specific properties for SQS and SES.<p class="paragraph"/><div class="code"><pre>grails &#123;
    plugin &#123;
        awssdk &#123;
            accessKey = &#123;ACCESS_KEY&#125;    // Default access key
            secretKey = &#123;SECRET_KEY&#125;    // Default secret key
            region = 'eu&#45;west&#45;1'        // Default region
            sqs &#123;
                accessKey = &#123;SQS_ACCESS_KEY&#125;    // Custom access key
                secretKey = &#123;SQS_SECRET_KEY&#125;    // Custom secret key
                region = &#123;SQS_REGION&#125;           // Custom region
                connectionTimeout = &#123;SQS_CONNECTION_TIMEOUT&#125;  // Custom timeout
            &#125;
            ses &#123;
                region = 'us&#45;east&#45;1'    // Since SES is currently only available in <span class="java&#45;keyword">this</span> region
            &#125;
            // Other available services
            autoScaling &#123;&#125;
            cloudFormation &#123;&#125;
            cloudFront &#123;&#125;
            cloudSearch &#123;&#125;
            cloudWatch &#123;&#125;
            dynamoDB &#123;&#125;
            ec2 &#123;&#125;
            elasticBeanstalk &#123;&#125;
            elasticLoadBalancing &#123;&#125;
            elasticMapReduce &#123;&#125;
            elastiCache &#123;&#125;
            glacier &#123;&#125;
            iam &#123;&#125;
            importExport &#123;&#125;
            rds &#123;&#125;
            route53 &#123;&#125;
            s3 &#123;&#125;
            sdb &#123;&#125;
            sns &#123;&#125;
            sqs &#123;&#125;
            storagegateway &#123;&#125;
            swf &#123;&#125;
        &#125;
    &#125;
&#125;</pre></div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/installation.html">&lt;&lt; <strong>2</strong><span>Installation</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/amazonWebService.html"><strong>4</strong><span>Amazon Web Service</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
